

<html>

  <head>

    <title>Phone Number Sign-In with Firebase</title>

    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-auth.js"></script>

    <script>

      // Initialize Firebase

      var firebaseConfig = {

        apiKey: "AIzaSyBR4hdL0rV-NnCwSv6PueHexLkPAc9OUUk",

        authDomain: "room360103.firebaseapp.com",

        projectId: "room360103",

        storageBucket: "room360103.appspot.com",

        messagingSenderId: "398005674409",

        appId: "1:398005674409:web:b20a4cdb39f2d248f9a4b8"

      };

      firebase.initializeApp(firebaseConfig);

    </script>

  </head>

  <body>

    <h1>Phone Number Sign-In</h1>

    <form>

      <label for="phoneNumber">Phone Number:</label>

      <input id="phoneNumber" name="phoneNumber" required="" type="tel" value="+91" />

      <br />

      <button onclick="sendOTP()" type="button">Send OTP</button>

      <br />

      <label for="verificationCode">Verification Code:</label>

      <input id="verificationCode" name="verificationCode" required="" type="text" />

      <br />

      <button onclick="verifyOTP()" type="button">Verify OTP</button>

    </form>

    

<!-- <div id="recaptcha-container"></div> -->

    

    

<script async="" defer="" src="https://www.google.com/recaptcha/api.js"></script>

    <script>

      function sendOTP() {

        var phoneNumber = document.getElementById("phoneNumber").value;

       var appVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container'); 

        firebase.auth().signInWithPhoneNumber(phoneNumber,appVerifier)

          .then(function (confirmationResult) {

            window.confirmationResult = confirmationResult;

            alert("OTP sent to " + phoneNumber);

          }).catch(function (error) {

            console.error("Error sending OTP:", error);

          });

      }

      function verifyOTP() {

        var verificationCode = document.getElementById("verificationCode").value;

        window.confirmationResult.confirm(verificationCode)

          .then(function (result) {

            alert("Phone number verified!");

            // TODO: redirect to next page

          }).catch(function (error) {

            console.error("Error verifying OTP:", error);

          });

      }

    </script>

    <div id="recaptcha-container"></div>

  </body>

</html>
    


