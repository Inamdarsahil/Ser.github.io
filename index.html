<!DOCTYPE html>

<html>

  <head>

    <title>Phone Number Sign-In with Firebase</title>

    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-auth.js"></script>

    <script>

      // Initialize Firebase

      var firebaseConfig = {

        apiKey: "AIzaSyBR4hdL0rV-NnCwSv6PueHexLkPAc9OUUk",

        authDomain: "room360103.firebaseapp.com",

        projectId: "room360103",

        storageBucket: "room360103.appspot.com",

        messagingSenderId: "398005674409",

        appId: "1:398005674409:web:b20a4cdb39f2d248f9a4b8"

      };

      firebase.initializeApp(firebaseConfig);

    </script>

  </head>

  <body>

    <h1>Phone Number Sign-In</h1>

    <form>

      <label for="phoneNumber">Phone Number:</label>

      <input type="tel" id="phoneNumber" name="phoneNumber" value="+91" required>

      <br>

      <button type="button" onclick="sendOTP()">Send OTP</button>

      <br>

      <label for="verificationCode">Verification Code:</label>

      <input type="text" id="verificationCode" name="verificationCode" required>

      <br>

      <button type="button" onclick="verifyOTP()">Verify OTP</button>

    </form>

    

<div id="recaptcha-container"></div>

    

    

<script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <script>

      function sendOTP() {

        var phoneNumber = document.getElementById("phoneNumber").value;

      <!--  var appVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container'); --!>

        firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier)

          .then(function (confirmationResult) {

            window.confirmationResult = confirmationResult;

            alert("OTP sent to " + phoneNumber);

          }).catch(function (error) {

            console.error("Error sending OTP:", error);

          });

      }

      function verifyOTP() {

        var verificationCode = document.getElementById("verificationCode").value;

        window.confirmationResult.confirm(verificationCode)

          .then(function (result) {

            alert("Phone number verified!");

            // TODO: redirect to next page

          }).catch(function (error) {

            console.error("Error verifying OTP:", error);

          });

      }

    </script>

    <!-- <div id="recaptcha-container"></div> -->

  </body>

</html>

